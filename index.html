<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°ç‹—10æœ‰å¤šçˆ±ä¸»äººkk - æ‹çˆ±å…³ç³»æµ‹è¯•</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ¶</text></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #ffafbd, #ffc3a0);
            color: #5a3d5c;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            width: 100%;
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .logo i {
            font-size: 2.5rem;
            color: #ff6b9d;
        }
        
        h1 {
            color: #7e3c7d;
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .subtitle {
            color: #9d5b9b;
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 20px;
            background-color: rgba(255, 255, 255, 0.7);
            padding: 10px 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .character-card {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .character {
            background-color: white;
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            width: 180px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            transition: transform 0.3s ease;
        }
        
        .character:hover {
            transform: translateY(-5px);
        }
        
        .character-icon {
            font-size: 3rem;
            margin-bottom: 10px;
        }
        
        .character-name {
            font-weight: bold;
            font-size: 1.4rem;
            color: #7e3c7d;
            margin-bottom: 5px;
        }
        
        .character-desc {
            font-size: 0.9rem;
            color: #666;
        }
        
        .dog10 {
            border-top: 5px solid #ff9e6d;
        }
        
        .kk {
            border-top: 5px solid #6d9eff;
        }
        
        .progress-container {
            background-color: rgba(255, 255, 255, 0.85);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(126, 60, 125, 0.15);
            margin-bottom: 30px;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .progress-title {
            font-size: 1.4rem;
            color: #7e3c7d;
            font-weight: 600;
        }
        
        .progress-count {
            font-size: 1.2rem;
            font-weight: 700;
            color: #ff6b9d;
            background-color: #ffe4ec;
            padding: 8px 15px;
            border-radius: 50px;
        }
        
        .progress-bar {
            height: 12px;
            background-color: #f0d5ef;
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 15px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff9e6d, #ff6b9d);
            border-radius: 6px;
            width: 10%;
            transition: width 0.5s ease;
        }
        
        .question-container {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(126, 60, 125, 0.15);
            margin-bottom: 30px;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }
        
        .question-number {
            color: #ff6b9d;
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }
        
        .question-text {
            font-size: 1.5rem;
            color: #7e3c7d;
            margin-bottom: 30px;
            line-height: 1.4;
        }
        
        .options-container {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .option {
            flex: 1;
            min-width: 150px;
            text-align: center;
            padding: 20px 15px;
            background-color: rgba(255, 255, 255, 0.8);
            border: 2px solid #f0d5ef;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .option:hover {
            background-color: #ffe4ec;
            border-color: #ffb8d0;
            transform: translateY(-3px);
        }
        
        .option.selected {
            background-color: #ffe4ec;
            border-color: #ff6b9d;
            box-shadow: 0 5px 15px rgba(255, 107, 157, 0.15);
        }
        
        .option-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: #ff6b9d;
            margin-bottom: 8px;
        }
        
        .option-label {
            font-size: 1rem;
            color: #7e3c7d;
        }
        
        .buttons-container {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .btn {
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-prev {
            background-color: #f0d5ef;
            color: #7e3c7d;
        }
        
        .btn-prev:hover:not(:disabled) {
            background-color: #e6c4e4;
        }
        
        .btn-next {
            background: linear-gradient(90deg, #ff9e6d, #ff6b9d);
            color: white;
        }
        
        .btn-next:hover:not(:disabled) {
            box-shadow: 0 5px 15px rgba(255, 107, 157, 0.3);
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .result-container {
            display: none;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(126, 60, 125, 0.15);
            margin-bottom: 30px;
            text-align: center;
            backdrop-filter: blur(5px);
        }
        
        .result-icon {
            font-size: 4rem;
            color: #ff6b9d;
            margin-bottom: 20px;
        }
        
        .result-title {
            font-size: 2.2rem;
            color: #7e3c7d;
            margin-bottom: 20px;
        }
        
        .result-score {
            font-size: 3.5rem;
            font-weight: 800;
            color: #ff6b9d;
            margin-bottom: 30px;
            background: linear-gradient(90deg, #ff9e6d, #ff6b9d);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .result-description {
            font-size: 1.2rem;
            color: #5a3d5c;
            max-width: 700px;
            margin: 0 auto 30px;
            line-height: 1.8;
        }
        
        .result-details {
            background-color: rgba(255, 228, 236, 0.5);
            border-radius: 12px;
            padding: 25px;
            text-align: left;
            margin-bottom: 30px;
            border-left: 5px solid #ff6b9d;
        }
        
        .result-details h3 {
            color: #7e3c7d;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }
        
        .result-details ul {
            list-style-type: none;
            padding-left: 0;
        }
        
        .result-details li {
            margin-bottom: 12px;
            padding-left: 25px;
            position: relative;
        }
        
        .result-details li:before {
            content: "â¤ï¸";
            position: absolute;
            left: 0;
            font-size: 1.2rem;
        }
        
        .btn-restart {
            background: linear-gradient(90deg, #6d9eff, #9d5b9b);
            color: white;
            margin: 0 auto;
        }
        
        .btn-restart:hover {
            box-shadow: 0 5px 15px rgba(109, 158, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .love-meter {
            width: 80%;
            height: 30px;
            background-color: #f0d5ef;
            border-radius: 15px;
            margin: 30px auto;
            overflow: hidden;
            position: relative;
        }
        
        .love-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff9e6d, #ff6b9d);
            border-radius: 15px;
            width: 0%;
            transition: width 1.5s ease;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-weight: bold;
        }
        
        .love-label {
            position: absolute;
            top: -35px;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #7e3c7d;
        }
        
        footer {
            text-align: center;
            color: #7e3c7d;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(126, 60, 125, 0.3);
            width: 100%;
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .heart-animation {
            font-size: 1.5rem;
            position: absolute;
            animation: float 2s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }
        
        @media (max-width: 768px) {
            .options-container {
                flex-direction: column;
            }
            
            .option {
                min-width: 100%;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.3rem;
            }
            
            .buttons-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn {
                justify-content: center;
                width: 100%;
            }
            
            .character-card {
                gap: 15px;
            }
            
            .character {
                width: 140px;
            }
        }
        
        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        
        .loading-spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #ff6b9d;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .love-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
    </style>
</head>
<body>
    <div class="love-hearts" id="loveHearts"></div>
    
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-heart"></i>
                <h1>å°ç‹—10æœ‰å¤šçˆ±ä¸»äººkk</h1>
                <i class="fas fa-paw"></i>
            </div>
            <p class="subtitle">é€šè¿‡10ä¸ªé—®é¢˜æµ‹è¯•å°ç‹—10å¯¹ä¸»äººkkçš„çˆ±æ„æ·±åº¦ï¼Œäº†è§£ä»–ä»¬ä¹‹é—´çš„ç‰¹æ®Šç¾ç»Šï¼</p>
            
            <div class="character-card">
                <div class="character dog10">
                    <div class="character-icon">ğŸ•</div>
                    <div class="character-name">å°ç‹—10</div>
                    <div class="character-desc">å¿ è¯šå¯çˆ±çš„ç‹—ç‹—</div>
                </div>
                <div class="character kk">
                    <div class="character-icon">â›¹â€â™‚ï¸</div>
                    <div class="character-name">ä¸»äººkk</div>
                    <div class="character-desc">æ¸©æŸ”å–„è‰¯çš„ä¸»äºº</div>
                </div>
            </div>
        </header>
        
        <div class="progress-container">
            <div class="progress-header">
                <div class="progress-title">æ‹çˆ±å…³ç³»æµ‹è¯„</div>
                <div class="progress-count">1/10</div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-description">è¯·æ ¹æ®æ¯ä¸ªé—®é¢˜é€‰æ‹©æœ€ç¬¦åˆå°ç‹—10è¡Œä¸ºçš„é€‰é¡¹</div>
        </div>
        
        <div class="question-container" id="questionContainer">
            <div class="question-number">é—®é¢˜ 1</div>
            <div class="question-text" id="questionText">å½“ä¸»äººkkå›å®¶æ—¶ï¼Œå°ç‹—10çš„ååº”æ˜¯ï¼Ÿ</div>
            <div class="options-container" id="optionsContainer">
                <!-- é€‰é¡¹ä¼šé€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            <div class="buttons-container">
                <button class="btn btn-prev" id="prevBtn" disabled>
                    <i class="fas fa-arrow-left"></i> ä¸Šä¸€é¢˜
                </button>
                <button class="btn btn-next" id="nextBtn">
                    ä¸‹ä¸€é¢˜ <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
        
        <div class="result-container" id="resultContainer">
            <div class="result-icon">
                <i class="fas fa-heart"></i>
            </div>
            <div class="result-title">å°ç‹—10å¯¹ä¸»äººkkçš„çˆ±æ„æµ‹è¯•ç»“æœ</div>
            <div class="result-score" id="finalScore">0/50</div>
            
            <div class="love-meter">
                <div class="love-fill" id="loveFill">0%</div>
                <div class="love-label">
                    <span>ä¸€èˆ¬å–œæ¬¢</span>
                    <span>éå¸¸æ·±çˆ±</span>
                </div>
            </div>
            
            <div class="result-description" id="resultDescription">
                <!-- ç»“æœæè¿°ä¼šé€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            <div class="result-details">
                <h3>å°ç‹—10çš„çˆ±æ„è¡¨ç°åˆ†æ</h3>
                <ul id="resultDetails">
                    <!-- ç»“æœè¯¦æƒ…ä¼šé€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </ul>
            </div>
            <button class="btn btn-restart" id="restartBtn">
                <i class="fas fa-redo"></i> é‡æ–°æµ‹è¯•
            </button>
        </div>
        
        <footer>
            <p>æœ¬æµ‹è¯•ä»…ä¾›å¨±ä¹ï¼Œç‹—ç‹—çš„çˆ±æ˜¯æ— æ¡ä»¶çš„ï¼Œè¯·å¥½å¥½çæƒœä¸å® ç‰©çš„æ¯ä¸€åˆ»ï¼</p>
            <p>Â© 2023 æ‹çˆ±å…³ç³»æµ‹è¯• | å°ç‹—10 â¤ï¸ ä¸»äººkk</p>
        </footer>
    </div>
    
    <div class="loading" id="loading">
        <div class="loading-spinner"></div>
        <p>æ­£åœ¨åˆ†æå°ç‹—10çš„çˆ±æ„...</p>
    </div>

    <script>
        // æµ‹è¯•é—®é¢˜æ•°æ® - å›´ç»•å°ç‹—10å¯¹ä¸»äººkkçš„çˆ±
        const questions = [
            {
                text: "å½“ä¸»äººkkå›å®¶æ—¶ï¼Œå°ç‹—10çš„ååº”æ˜¯ï¼Ÿ",
                category: "æ¬¢è¿è¡Œä¸º"
            },
            {
                text: "ä¸»äººkkä¼¤å¿ƒæ—¶ï¼Œå°ç‹—10ä¼šæ€ä¹ˆåšï¼Ÿ",
                category: "æƒ…æ„Ÿæ”¯æŒ"
            },
            {
                text: "å°ç‹—10ä¼šä¸ä¸»äººkkåˆ†äº«è‡ªå·±çš„ç©å…·å—ï¼Ÿ",
                category: "åˆ†äº«è¡Œä¸º"
            },
            {
                text: "å½“ä¸»äººkkç¦»å¼€å®¶æ—¶ï¼Œå°ç‹—10çš„è¡¨ç°æ˜¯ï¼Ÿ",
                category: "åˆ†ç¦»ç„¦è™‘"
            },
            {
                text: "å°ç‹—10æ„¿æ„è®©ä¸»äººkkç»™å®ƒå‰ªæŒ‡ç”²æˆ–æ´—æ¾¡å—ï¼Ÿ",
                category: "ä¿¡ä»»ç¨‹åº¦"
            },
            {
                text: "ä¸»äººkkå«å°ç‹—10æ—¶ï¼Œå®ƒçš„ååº”é€Ÿåº¦æ˜¯ï¼Ÿ",
                category: "æœä»ç¨‹åº¦"
            },
            {
                text: "å°ç‹—10ä¼šä¿æŠ¤ä¸»äººkkå…å—é™Œç”Ÿäººæ¥è¿‘å—ï¼Ÿ",
                category: "ä¿æŠ¤è¡Œä¸º"
            },
            {
                text: "å°ç‹—10å–œæ¬¢ç¡åœ¨ä¸»äººkkçš„æ—è¾¹å—ï¼Ÿ",
                category: "äº²å¯†ç¨‹åº¦"
            },
            {
                text: "å°ç‹—10ä¼šæ¨¡ä»¿ä¸»äººkkçš„è¡Œä¸ºæˆ–ä¹ æƒ¯å—ï¼Ÿ",
                category: "è®¤åŒç¨‹åº¦"
            },
            {
                text: "å°ç‹—10æ„¿æ„ä¸ºä¸»äººkkå­¦ä¹ æ–°æŠ€èƒ½å—ï¼Ÿ",
                category: "å¥‰çŒ®ç²¾ç¥"
            }
        ];
        
        // é€‰é¡¹é…ç½®
        const options = [
            { value: 1, label: "å‡ ä¹ä¸ç†ä¼š" },
            { value: 2, label: "å¶å°”æ‘‡å°¾å·´" },
            { value: 3, label: "æ­£å¸¸æ¬¢è¿" },
            { value: 4, label: "çƒ­æƒ…æ‘‡å°¾å·´" },
            { value: 5, label: "æåº¦å…´å¥‹ï¼Œè·³èµ·æ¥è¿æ¥" }
        ];
        
        // ç»“æœæè¿°
        const resultLevels = [
            { 
                min: 10, 
                max: 20, 
                title: "æ™®é€šå–œæ¬¢", 
                desc: "å°ç‹—10å¯¹ä¸»äººkkåªæ˜¯æ™®é€šçš„å–œæ¬¢ç¨‹åº¦ï¼Œå¯èƒ½è¿˜éœ€è¦æ›´å¤šäº’åŠ¨æ¥å¢è¿›æ„Ÿæƒ…å“¦ï¼",
                color: "#ff9e6d"
            },
            { 
                min: 21, 
                max: 30, 
                title: "æ¯”è¾ƒå–œæ¬¢", 
                desc: "å°ç‹—10å¯¹ä¸»äººkkæœ‰æ¯”è¾ƒæ·±çš„æ„Ÿæƒ…ï¼Œæ˜¯å¾ˆä¸é”™çš„ä¸»å® å…³ç³»ï¼",
                color: "#ff8fa5"
            },
            { 
                min: 31, 
                max: 40, 
                title: "éå¸¸æ·±çˆ±", 
                desc: "å°ç‹—10éå¸¸æ·±çˆ±ä¸»äººkkï¼Œä½ ä»¬ä¹‹é—´æœ‰å¾ˆå¼ºçš„ç¾ç»Šå’Œä¿¡ä»»å…³ç³»ï¼",
                color: "#ff6b9d"
            },
            { 
                min: 41, 
                max: 50, 
                title: "ç—´å¿ƒç»å¯¹", 
                desc: "å°ç‹—10å¯¹ä¸»äººkkçš„çˆ±å·²ç»åˆ°äº†ç—´å¿ƒç»å¯¹çš„ç¨‹åº¦ï¼ä½ æ˜¯å®ƒç”Ÿå‘½ä¸­æœ€é‡è¦çš„äººï¼",
                color: "#ff3d7f"
            }
        ];
        
        // å½“å‰çŠ¶æ€
        let currentQuestion = 0;
        let answers = new Array(questions.length).fill(0);
        let totalScore = 0;
        
        // DOMå…ƒç´ 
        const questionContainer = document.getElementById('questionContainer');
        const resultContainer = document.getElementById('resultContainer');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const restartBtn = document.getElementById('restartBtn');
        const progressCount = document.querySelector('.progress-count');
        const progressFill = document.getElementById('progressFill');
        const finalScore = document.getElementById('finalScore');
        const resultDescription = document.getElementById('resultDescription');
        const resultDetails = document.getElementById('resultDetails');
        const loading = document.getElementById('loading');
        const loveFill = document.getElementById('loveFill');
        const loveHearts = document.getElementById('loveHearts');
        
        // åˆå§‹åŒ–æµ‹è¯•
        function initTest() {
            createHearts();
            renderQuestion();
            updateProgress();
        }
        
        // åˆ›å»ºæ¼‚æµ®çˆ±å¿ƒ
        function createHearts() {
            const hearts = ['â¤ï¸', 'ğŸ§¡', 'ğŸ’›', 'ğŸ’š', 'ğŸ’™', 'ğŸ’œ', 'ğŸ¤', 'ğŸ–¤', 'ğŸ¤', 'ğŸ’–', 'ğŸ’—', 'ğŸ’“', 'ğŸ’', 'ğŸ’•'];
            for (let i = 0; i < 15; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart-animation';
                heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = `${Math.random() * 100}%`;
                heart.style.top = `${Math.random() * 100}%`;
                heart.style.animationDelay = `${Math.random() * 2}s`;
                heart.style.fontSize = `${Math.random() * 1 + 1}rem`;
                loveHearts.appendChild(heart);
            }
        }
        
        // æ¸²æŸ“å½“å‰é—®é¢˜
        function renderQuestion() {
            // æ›´æ–°é—®é¢˜æ–‡æœ¬
            questionText.textContent = questions[currentQuestion].text;
            
            // æ›´æ–°é—®é¢˜ç¼–å·
            document.querySelector('.question-number').textContent = `é—®é¢˜ ${currentQuestion + 1}`;
            
            // æ¸…ç©ºé€‰é¡¹å®¹å™¨
            optionsContainer.innerHTML = '';
            
            // æ¸²æŸ“é€‰é¡¹
            options.forEach(option => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                if (answers[currentQuestion] === option.value) {
                    optionElement.classList.add('selected');
                }
                
                optionElement.innerHTML = `
                    <div class="option-value">${option.value}åˆ†</div>
                    <div class="option-label">${option.label}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(option.value));
                optionsContainer.appendChild(optionElement);
            });
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            prevBtn.disabled = currentQuestion === 0;
            
            if (currentQuestion === questions.length - 1) {
                nextBtn.innerHTML = 'æŸ¥çœ‹ç»“æœ <i class="fas fa-heart"></i>';
            } else {
                nextBtn.innerHTML = 'ä¸‹ä¸€é¢˜ <i class="fas fa-arrow-right"></i>';
            }
        }
        
        // é€‰æ‹©é€‰é¡¹
        function selectOption(value) {
            answers[currentQuestion] = value;
            
            // æ›´æ–°é€‰é¡¹UI
            const optionElements = document.querySelectorAll('.option');
            optionElements.forEach((element, index) => {
                if (index === value - 1) {
                    element.classList.add('selected');
                } else {
                    element.classList.remove('selected');
                }
            });
            
            // å¯ç”¨ä¸‹ä¸€é¢˜æŒ‰é’®
            nextBtn.disabled = false;
        }
        
        // æ›´æ–°è¿›åº¦
        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            progressFill.style.width = `${progress}%`;
            progressCount.textContent = `${currentQuestion + 1}/${questions.length}`;
        }
        
        // ä¸‹ä¸€é¢˜
        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                renderQuestion();
                updateProgress();
            } else {
                // å¦‚æœæ˜¯æœ€åä¸€é¢˜ï¼Œæ˜¾ç¤ºç»“æœ
                showResults();
            }
        }
        
        // ä¸Šä¸€é¢˜
        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                renderQuestion();
                updateProgress();
            }
        }
        
        // æ˜¾ç¤ºç»“æœ
        function showResults() {
            // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
            loading.style.display = 'flex';
            
            // è®¡ç®—æ€»åˆ†
            totalScore = answers.reduce((sum, answer) => sum + answer, 0);
            
            // å»¶è¿Ÿæ˜¾ç¤ºç»“æœï¼Œæ¨¡æ‹Ÿåˆ†æè¿‡ç¨‹
            setTimeout(() => {
                // éšè—åŠ è½½åŠ¨ç”»
                loading.style.display = 'none';
                
                // éšè—é—®é¢˜å®¹å™¨ï¼Œæ˜¾ç¤ºç»“æœå®¹å™¨
                questionContainer.style.display = 'none';
                resultContainer.style.display = 'block';
                
                // æ›´æ–°ç»“æœ
                finalScore.textContent = `${totalScore}/50`;
                
                // æ›´æ–°çˆ±å¿ƒè¿›åº¦æ¡
                const lovePercentage = (totalScore / 50) * 100;
                loveFill.style.width = `${lovePercentage}%`;
                loveFill.textContent = `${Math.round(lovePercentage)}%`;
                
                // æ ¹æ®åˆ†æ•°ç¡®å®šç»“æœç­‰çº§
                let resultLevel = resultLevels[0];
                for (const level of resultLevels) {
                    if (totalScore >= level.min && totalScore <= level.max) {
                        resultLevel = level;
                        break;
                    }
                }
                
                // æ›´æ–°ç»“æœæè¿°
                resultDescription.innerHTML = `
                    <h3 style="color: ${resultLevel.color}">${resultLevel.title}</h3>
                    <p>${resultLevel.desc}</p>
                `;
                
                // æ›´æ–°ç»“æœè¯¦æƒ…
                resultDetails.innerHTML = '';
                
                // åˆ†ææ¯ä¸ªç±»åˆ«
                const categoryScores = {};
                questions.forEach((question, index) => {
                    const category = question.category;
                    if (!categoryScores[category]) {
                        categoryScores[category] = {
                            total: 0,
                            count: 0
                        };
                    }
                    categoryScores[category].total += answers[index];
                    categoryScores[category].count++;
                });
                
                // ç”Ÿæˆè¯¦æƒ…åˆ—è¡¨
                for (const category in categoryScores) {
                    const avgScore = (categoryScores[category].total / categoryScores[category].count).toFixed(1);
                    const li = document.createElement('li');
                    
                    // æ ¹æ®å¹³å‡åˆ†æ·»åŠ è¡¨æƒ…
                    let emoji = "ğŸ•";
                    if (avgScore >= 4) emoji = "â¤ï¸";
                    else if (avgScore >= 3) emoji = "ğŸ’–";
                    else if (avgScore >= 2) emoji = "ğŸ’•";
                    
                    li.textContent = `${emoji} ${category}: ${avgScore}/5 åˆ†`;
                    resultDetails.appendChild(li);
                }
                
                // æ·»åŠ é¢å¤–çˆ±å¿ƒåŠ¨ç”»
                addResultHearts(resultLevel.color);
            }, 1500);
        }
        
        // æ·»åŠ ç»“æœçˆ±å¿ƒåŠ¨ç”»
        function addResultHearts(color) {
            const hearts = ['â¤ï¸', 'ğŸ’–', 'ğŸ’—', 'ğŸ’“', 'ğŸ’'];
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'heart-animation';
                    heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.left = `${Math.random() * 80 + 10}%`;
                    heart.style.top = '100%';
                    heart.style.position = 'fixed';
                    heart.style.color = color;
                    heart.style.zIndex = '9999';
                    document.body.appendChild(heart);
                    
                    // åŠ¨ç”»ç»“æŸåç§»é™¤
                    setTimeout(() => {
                        heart.remove();
                    }, 2000);
                }, i * 200);
            }
        }
        
        // é‡æ–°å¼€å§‹æµ‹è¯•
        function restartTest() {
            currentQuestion = 0;
            answers = new Array(questions.length).fill(0);
            totalScore = 0;
            
            // æ˜¾ç¤ºé—®é¢˜å®¹å™¨ï¼Œéšè—ç»“æœå®¹å™¨
            questionContainer.style.display = 'block';
            resultContainer.style.display = 'none';
            
            // é‡ç½®çˆ±å¿ƒè¿›åº¦æ¡
            loveFill.style.width = '0%';
            loveFill.textContent = '0%';
            
            // é‡æ–°åˆå§‹åŒ–æµ‹è¯•
            initTest();
            
            // ç¦ç”¨ä¸‹ä¸€é¢˜æŒ‰é’®ï¼ˆå› ä¸ºè¿˜æ²¡æœ‰é€‰æ‹©ç­”æ¡ˆï¼‰
            nextBtn.disabled = true;
        }
        
        // äº‹ä»¶ç›‘å¬
        nextBtn.addEventListener('click', nextQuestion);
        prevBtn.addEventListener('click', prevQuestion);
        restartBtn.addEventListener('click', restartTest);
        
        // åˆå§‹æ—¶ç¦ç”¨ä¸‹ä¸€é¢˜æŒ‰é’®
        nextBtn.disabled = true;
        
        // åˆå§‹åŒ–æµ‹è¯•
        initTest();
    </script>
</body>
</html>
